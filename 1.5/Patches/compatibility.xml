<Patch>
	<!--replace all instances of VE female only gender gene with mine-->
	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Alpha Genes</li>
		</mods>
		<match Class="PatchOperationSequence">
			<operations>
				<li Class="PatchOperationReplace">
					<xpath>//XenotypeDef/genes/li[text()="CorePlus_AlwaysFemale"]</xpath>
					<value>
						<li>AG_Female</li>
					</value>
				</li>
				<li Class="PatchOperationReplace">
					<xpath>//XenotypeDef/genes/li[text()="CorePlus_AlwaysMale"]</xpath>
					<value>
						<li>AG_Male</li>
					</value>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>//GeneDef[defName="CorePlus_AlwaysFemale" or defName="CorePlus_AlwaysMale"]</xpath>
				</li>
				<li Class="PatchOperationReplace">
					<xpath>//GeneDef[defName="AG_Female" or defName="AG_Male"]/displayCategory</xpath>
					<value>
						<displayCategory>CorePlus_Gender</displayCategory>
					</value>
				</li>
				<li Class="PatchOperationConditional">
					<xpath>//GeneDef[defName="AG_Female"]/forcedHeadTypes</xpath>
					<match Class="PatchOperationReplace">
						<xpath>//GeneDef[defName="AG_Female"]/forcedHeadTypes</xpath>
						<value>
							<forcedHeadTypes>
								<li>Female_AverageNormal</li>
								<li>Female_AveragePointy</li>
							</forcedHeadTypes>
						</value>
					</match>
					<nomatch Class="PatchOperationAdd">
						<xpath>//GeneDef[defName="AG_Female"]</xpath>
						<value>
							<forcedHeadTypes>
								<li>Female_AverageNormal</li>
								<li>Female_AveragePointy</li>
							</forcedHeadTypes>
						</value>
					</nomatch>
				</li>
				<li Class="PatchOperationConditional">
					<xpath>//GeneDef[defName="AG_Male"]/forcedHeadTypes</xpath>
					<match Class="PatchOperationReplace">
						<xpath>//GeneDef[defName="AG_Male"]/forcedHeadTypes</xpath>
						<value>
							<forcedHeadTypes>
								<li>Male_AverageNormal</li>
								<li>Male_AveragePointy</li>
								<li>Male_AverageWide</li>
							</forcedHeadTypes>
						</value>
					</match>
					<nomatch Class="PatchOperationAdd">
						<xpath>//GeneDef[defName="AG_Male"]</xpath>
						<value>
							<forcedHeadTypes>
								<li>Male_AverageNormal</li>
								<li>Male_AveragePointy</li>
								<li>Male_AverageWide</li>
							</forcedHeadTypes>
						</value>
					</nomatch>
				</li>
			</operations>
		</match>
		<nomatch Class="PatchOperationSequence">
			<operations>
				<li Class="PatchOperationConditional">
					<xpath>//GeneDef[defName="VRE_Female"]</xpath>
					<match Class="PatchOperationSequence">
						<operations>
							<li Class="PatchOperationReplace">
								<xpath>//XenotypeDef/genes/li[text()="CorePlus_AlwaysFemale"]</xpath>
								<value>
									<li>VRE_Female</li>
								</value>
							</li>
							<li Class="PatchOperationRemove">
								<xpath>//GeneDef[defName="CorePlus_AlwaysFemale"]</xpath>
							</li>
							<li Class="PatchOperationReplace">
								<xpath>//GeneDef[defName="VRE_Female"]/displayCategory</xpath>
								<value>
									<displayCategory>CorePlus_Gender</displayCategory>
								</value>
							</li>
							<li Class="PatchOperationAdd">
								<xpath>//GeneDef[defName="VRE_Female"]</xpath>
								<value>
									<forcedHeadTypes>
										<li>Female_AverageNormal</li>
										<li>Female_AveragePointy</li>
									</forcedHeadTypes>
								</value>
							</li>
						</operations>
					</match>
				</li>
				<li Class="PatchOperationConditional">
					<xpath>//GeneDef[defName="VRE_Male"]</xpath>
					<match Class="PatchOperationSequence">
						<operations>
							<li Class="PatchOperationReplace">
								<xpath>//XenotypeDef/genes/li[text()="CorePlus_AlwaysMale"]</xpath>
								<value>
									<li>VRE_Male</li>
								</value>
							</li>
							<li Class="PatchOperationRemove">
								<xpath>//GeneDef[defName="CorePlus_AlwaysMale"]</xpath>
							</li>
							<li Class="PatchOperationReplace">
								<xpath>//GeneDef[defName="VRE_Male"]/displayCategory</xpath>
								<value>
									<displayCategory>CorePlus_Gender</displayCategory>
								</value>
							</li>
							<li Class="PatchOperationAdd">
								<xpath>//GeneDef[defName="VRE_Male"]</xpath>
								<value>
									<forcedHeadTypes>
										<li>Male_AverageNormal</li>
										<li>Male_AveragePointy</li>
										<li>Male_AverageWide</li>
									</forcedHeadTypes>
								</value>
							</li>
						</operations>
					</match>
				</li>
			</operations>
		</nomatch>
	</Operation>
	<!--move tail genes from misc to cosmetic tab-->
	<Operation Class="PatchOperationSequence">
		<operations>
			<!--moving Nose_Pig individually because it overrides its parent category to misc for some reason-->
			<li Class="PatchOperationReplace">
				<xpath>//GeneDef[@Name="GeneTailBase" or defName="Nose_Pig"]/displayCategory</xpath>
				<value>
					<displayCategory>Cosmetic</displayCategory>
				</value>
			</li>
			<!--great minds think alike-->
			<li Class="PatchOperationConditional">
				<xpath>//GeneDef[defName="VRE_CanineNose"]</xpath>
				<match Class="PatchOperationReplace">
					<xpath>//GeneDef[defName="VRE_CanineNose"]/displayCategory</xpath>
					<value>
						<displayCategory>Cosmetic</displayCategory>
					</value>
				</match>
			</li>
		</operations>
	</Operation>
</Patch>